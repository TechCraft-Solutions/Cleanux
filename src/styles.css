@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

/* Custom Animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@keyframes slide-up {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
@keyframes zoom-in {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Global Styles */
body {
  @apply text-slate-900 transition-colors duration-300 antialiased;
  font-family:
    "Inter",
    system-ui,
    -apple-system,
    sans-serif;
  background-color: #f8fafc; /* slate-50 */
}

.dark body {
  @apply text-slate-100;
  background-color: #020617; /* slate-950 */
}

/* Base text color rules - avoid generic catch-all if possible, but helpful for migration */
.light-theme-text {
  @apply text-slate-900;
}
.dark .dark-theme-text {
  @apply text-slate-100;
}

/* Components */
.glass-card {
  backdrop-filter: blur(16px);
  border: 1px solid rgb(0 0 0 / 0.1);
  border-radius: 1.25rem;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05);
  background: rgb(255 255 255 / 0.8);
  transition: all 0.3s ease;
}

.dark .glass-card {
  border: 1px solid rgb(255 255 255 / 0.1);
  background: rgb(15 23 42 / 0.6);
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.5);
}

.glass-card:hover {
  border-color: rgb(0 0 0 / 0.2);
  transform: translateY(-2px);
  box-shadow: 0 12px 20px -8px rgb(0 0 0 / 0.15);
}

.dark .glass-card:hover {
  border-color: rgb(255 255 255 / 0.2);
}

.status-chip {
  @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest;
}

.status-chip.running {
  @apply bg-emerald-100 text-emerald-700;
}
.dark .status-chip.running {
  @apply bg-emerald-500/20 text-emerald-400;
}
.status-chip.stopped {
  @apply bg-rose-100 text-rose-700;
}
.dark .status-chip.stopped {
  @apply bg-rose-500/20 text-rose-400;
}

/* Pagination */
.pagination-container {
  @apply px-4 py-3 flex items-center justify-between;
}

.pagination-select {
  @apply text-sm w-40 px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100;
}

.pagination-nav-btn,
.pagination-page-btn {
  @apply flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-200 font-bold text-sm border active:scale-90;
  @apply bg-slate-50 text-slate-600 border-slate-200 hover:bg-white hover:text-indigo-600 hover:border-indigo-200;
}

.dark .pagination-nav-btn,
.dark .pagination-page-btn {
  @apply bg-slate-900/50 text-slate-400 border-slate-800 hover:bg-slate-800 hover:text-indigo-400 hover:border-indigo-500/30;
}

.pagination-nav-btn:disabled {
  @apply opacity-50 cursor-not-allowed active:scale-100;
  @apply bg-slate-100 text-slate-300 border-slate-100 hover:bg-slate-100 hover:text-slate-300 hover:border-slate-100;
}

.dark .pagination-nav-btn:disabled {
  @apply bg-slate-900/20 text-slate-700 border-slate-800/50 hover:bg-slate-900/20 hover:text-slate-700 hover:border-slate-800/50;
}

.pagination-page-btn-active {
  @apply bg-indigo-600! text-white! border-indigo-600! shadow-lg shadow-indigo-500/30 scale-110!;
}

.dark .pagination-page-btn-active {
  @apply bg-indigo-500! text-white! border-indigo-500! shadow-indigo-500/20;
}

/* Material Tooltip Dark Mode */
.dark .mdc-tooltip__surface {
  background-color: #ffffff !important;
  color: #020617 !important;
  font-weight: 600 !important;
}

/* Table */
.table-container {
  @apply border border-slate-200 rounded-2xl overflow-hidden flex flex-col flex-1 bg-white shadow-sm dark:border-slate-800 dark:bg-slate-900/50;
}

.table-header {
  @apply bg-slate-50/50 border-b border-slate-200 dark:bg-slate-800/50 dark:border-slate-700;
}
.table-body {
  @apply divide-y divide-slate-100 dark:divide-slate-800;
}
.table-row {
  @apply flex items-center px-4 py-4 transition-colors duration-150 cursor-pointer hover:bg-slate-50/80 dark:hover:bg-white/5;
}

.table-row-selected {
  @apply bg-indigo-50 dark:bg-indigo-900/20;
}

.column-header {
  @apply px-3 py-2 font-bold text-[10px] text-slate-500 dark:text-slate-400 uppercase tracking-[0.15em] flex items-center gap-1 select-none;
}
.column-header.sortable {
  @apply cursor-pointer hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors;
}
.column-header .sort-icon {
  @apply text-sm opacity-0 transition-opacity ml-auto;
}
.column-header.sortable .sort-icon {
  @apply opacity-30;
}
.column-header .sort-icon.active {
  @apply opacity-100 text-indigo-600 dark:text-indigo-400;
}
.column-cell {
  @apply px-3 py-1 text-sm text-slate-900 font-semibold dark:text-slate-200;
}

.preview-btn-container {
  @apply flex items-center justify-center w-10 flex-shrink-0;
}
.preview-btn {
  @apply p-1.5 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors;
}

.table-row-hover {
  @apply hover:bg-slate-50 dark:hover:bg-white/5;
}

.no-data-msg {
  @apply flex flex-col items-center gap-y-3 py-20 text-center text-slate-400 font-bold text-sm uppercase tracking-widest;
}

.reload-btn {
  @apply p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all duration-200 active:scale-90 dark:hover:bg-indigo-500/10;
}

.action-btn {
  @apply px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold text-sm transition-all duration-200 hover:bg-indigo-700 hover:shadow-xl hover:shadow-indigo-500/40 active:scale-95 flex items-center gap-2 disabled:bg-slate-200 disabled:text-slate-400 disabled:shadow-none;
}
.dark .action-btn {
  @apply disabled:bg-slate-800 disabled:text-slate-600;
}

/* Dashboard Specific */
.dashboard-container {
  @apply flex flex-col min-h-full gap-8 p-4;
  animation: fade-in 0.6s ease-out both;
}

.scan-section {
  @apply flex-1 flex flex-col items-center justify-center py-16;
  animation: zoom-in 1.2s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.status-indicator {
  @apply px-5 py-2 flex items-center gap-3 shadow-md border border-slate-200 bg-white rounded-full;
  backdrop-filter: blur(12px);
}

.dark .status-indicator {
  @apply border-white/10 bg-slate-900/60 shadow-none;
}

.status-dot {
  @apply w-2.5 h-2.5 rounded-full shadow-sm;
}

.dashboard-card {
  @apply p-6 flex flex-col items-center justify-center space-y-4;
  backdrop-filter: blur(16px);
  border: 1px solid rgb(0 0 0 / 0.05);
  border-radius: 2rem;
  background: white;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.04);
  animation: slide-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.dark .dashboard-card {
  border-color: rgb(255 255 255 / 0.1);
  background: rgb(15 23 42 / 0.6);
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.2);
}

.card-label {
  @apply text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest;
}
.chart-container {
  @apply relative flex items-center justify-center w-28 h-28;
}
.chart-bg-circle {
  @apply text-slate-100 dark:text-slate-800/50;
}
.chart-value {
  @apply absolute text-3xl font-bold tracking-tight text-slate-900 dark:text-white;
}

.junk-value-container {
  @apply flex items-baseline gap-1;
}
.junk-value-large {
  @apply text-4xl font-bold tracking-tight text-slate-900 dark:text-white;
}
.junk-value-unit {
  @apply text-xl font-semibold text-slate-400 dark:text-slate-600;
}

.clean-btn {
  @apply mt-2 bg-indigo-600 text-white font-bold px-8 py-3 rounded-full transition-all duration-300 shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:-translate-y-0.5 active:translate-y-0 active:scale-95 flex items-center gap-2 text-sm;
}

.scan-section {
  @apply flex flex-col items-center justify-center py-10;
  animation: zoom-in 1.2s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.scan-btn {
  @apply relative flex flex-col items-center justify-center w-64 h-64 rounded-full bg-white dark:bg-slate-900 shadow-2xl shadow-slate-200 dark:shadow-none border-8 border-white dark:border-slate-800 transition-all duration-500 cursor-pointer hover:border-indigo-50 dark:hover:border-indigo-900/30 active:scale-95;
}

.scan-btn-scanning {
  @apply border-indigo-50! dark:border-indigo-900/30 shadow-indigo-100 dark:shadow-indigo-950/20 scale-95;
}

.scan-progress-ring {
  filter: drop-shadow(0 0 8px rgba(79, 70, 229, 0.4));
}
.scan-icon {
  @apply text-slate-700 dark:text-slate-100;
  width: 64px !important;
  height: 64px !important;
  font-size: 64px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}
.scan-text {
  @apply text-base font-black uppercase tracking-[0.2em] text-slate-800 dark:text-white;
}
.scan-percentage {
  @apply mt-1 text-indigo-600 font-black text-2xl;
}

.active-nav-item {
  @apply bg-indigo-50 text-indigo-700 dark:bg-indigo-500/10 dark:text-indigo-400;
}

/* Material Overrides */
mat-icon {
  color: inherit !important;
}
.mat-mdc-button-base {
  font-weight: 700 !important;
}

/* Custom Checkbox */
.checkbox-container {
  @apply flex items-center justify-center w-10 h-10;
}

.custom-checkbox {
  @apply relative inline-flex items-center cursor-pointer select-none;
}

.custom-checkbox input {
  @apply absolute opacity-0 w-0 h-0;
}

.checkmark {
  @apply relative h-5 w-5 rounded-md border-2 border-slate-300 dark:border-slate-700 
         bg-white dark:bg-slate-800 transition-all duration-300 ease-out;
}

.custom-checkbox:hover .checkmark {
  @apply border-indigo-400 dark:border-indigo-500 shadow-lg shadow-indigo-500/10;
}

.custom-checkbox input:checked ~ .checkmark {
  @apply bg-indigo-600 border-indigo-600 scale-110 shadow-md shadow-indigo-500/20;
}

.checkmark:after {
  content: "";
  @apply absolute hidden left-[5px] top-[1px] w-[6px] h-[11px] 
         border-white border-r-[2.5px] border-b-[2.5px] rotate-45 transition-all duration-300;
}

.custom-checkbox input:checked ~ .checkmark:after {
  @apply block;
}

.checkmark.indeterminate {
  @apply bg-indigo-600 border-indigo-600 scale-110;
}

.checkmark.indeterminate:after {
  content: "";
  @apply absolute block left-[4px] top-[7px] w-[8px] h-[2px] 
         bg-white border-none rotate-0;
}
